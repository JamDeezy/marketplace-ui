<!doctype html>
<html>
  <head>
    <title>w-date-time-picker</title>
    <script src="../lib/webcomponents-lite.min.js"></script>
    <link rel="import" href="../bower_components/w-widgets/lib/w-base.html">
    <link rel="import" href="../bower_components/w-widgets/lib/w-jasmine.html">
    <link rel="import" href="../lib/f-admin-base.html">
    <link rel="import" href="../lib/f-budget-editor.html">
    <w-seamless-iframe-helper></w-seamless-iframe-helper>

    <style>
      w-demo {
        vertical-align: top;
        margin: 10px;
        padding: 10px;
        border-radius: 5px;
        display: inline-block;
        background: #eef;
        width: 500px;
      }
    </style>
  </head>
  <body>
    <h1>f-budget-editor</h1>

    <w-demo>
      <f-budget-editor id="editor"></f-budget-editor>
      <f-budget-editor id="editor2"></f-budget-editor>
    </w-demo>

    <w-jasmine></w-jasmine>

    <script>
      window.addEventListener('WebComponentsReady', function() {
        document.body.removeAttribute('unresolved');
        document.querySelector('w-jasmine').run(function() {
          var budgetEditor = document.getElementById('editor');
          var budgetEditor2 = document.getElementById('editor2');
          var budget = new flipp.marketplace.Budget();
          budget.name = 'Test Name';
          budget.endTime = moment().add(1, 'days');

          var budget2 = new flipp.marketplace.Budget();
          budget2.name = 'Test Name 2';
          budget2.endTime = moment().add(2, 'days');

          budgetEditor.budget = budget;
          budgetEditor2.budget = budget2;

          describe('f-budget-editor', function() {
            it('shows the budget when set', function() {
              var budgetEditor = document.createElement('f-budget-editor');
              var budget = new flipp.marketplace.Budget();
              var testName = 'Test2';
              budget.name = testName
              budgetEditor.budget = budget;
              expect(budgetEditor.budget.name).toBe(testName);
            });
          });
        });
      });
    </script>
  </body>
</html>
